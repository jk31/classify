{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block head_title %}Datasets{% endblock %}


{% block extra_head %}
{% endblock %}


{% block content %}

<h2>Upload new dataset</h2>
<form action="" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    {{ datasetuploadform|crispy }}
    <input type="submit" value="Upload">
</form>

{% if datasets %}
    <h2>Your datasets</h2>
    {% for dataset in datasets %}
        <p>{{ dataset.name }} - {{ dataset.created|date:"D d M Y - g:i a" }}
            <a href="{% url 'app:dataset_download' dataset_id=dataset.pk %}">Download dataset</a>
            <a href="{% url 'app:training' dataset_id=dataset.pk %}">Train a model</a>
            <form action="{% url 'app:dataset_delete' dataset_id=dataset.pk%}" method="post">
                {% csrf_token %}
                <input type="submit" value="Delete">
            </form>
        </p>    
    {% endfor %}
{% else %}
    <h2>You have no datasets yet...</h2>
{% endif %}

{% endblock %}